---
format_version: '11'
default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git
project_type: ios
trigger_map:
- push_branch: main
  workflow: primary
workflows:
  primary:
    steps:
    - activate-ssh-key@4.1:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
        inputs:
        - verbose: 'false'
        title: Activate SSH Key
    - git-clone@6.1:
        title: Clone Repository
    - certificate-and-profile-installer@1.10:
        title: Install Certificates & Profiles
        inputs:
        - install_defaults: 'no'
    - cocoapods-install@2.2:
        title: Install Pods
    - xcode-archive@4.0:
        inputs:
        - project_path: "$BITRISE_PROJECT_PATH"
        - scheme: "$BITRISE_SCHEME"
        - export_development_team: "$DEVELOPMENT_TEAM_ID"
        - export_options_plist_content: "$EXPORT_OPTIONS_PLIST"
        - verbose_log: 'yes'
        - cache_level: none
        - export_method: "$BITRISE_EXPORT_METHOD"
        title: Archive & Export
    - deploy-to-bitrise-io@2.0:
        title: Deploy
        inputs:
        - debug_mode: 'true'
        is_always_run: false
    description: Deploy app for production
app:
  envs:
  - opts:
      is_expand: false
    BITRISE_PROJECT_PATH: Provenance.xcworkspace
  - opts:
      is_expand: false
    BITRISE_SCHEME: Provenance
  - opts:
      is_expand: false
    BITRISE_EXPORT_METHOD: development
  - opts:
      is_expand: false
    DEVELOPMENT_TEAM_ID: JDL5FY6SCC
  - opts:
      is_expand: false
    EXPORT_OPTIONS_PLIST: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist
      PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist
      version=\"1.0\">\n<dict>\n\t<key>signingStyle</key>\n\t<string>manual</string>\n\t<key>signingCertificate</key>\n\t<string>Apple
      Development</string>\n\t<key>teamID</key>\n\t<string>JDL5FY6SCC</string>\n\t<key>provisioningProfiles</key>\n\t<dict>\n\t\t<key>cloud.tavitian.provenance</key>\n\t\t<string>Provenance
      Development</string>\n\t\t<key>cloud.tavitian.provenance.stickers</key>\n\t\t<string>Provenance
      Stickers Development</string>\n\t\t<key>cloud.tavitian.provenance.widgets</key>\n\t\t<string>Provenance
      Widgets Development</string>\n\t\t<key>cloud.tavitian.provenance.intents</key>\n\t\t<string>Provenance
      Intents Development</string>\n\t\t<key>cloud.tavitian.provenance.intentsui</key>\n\t\t<string>Provenance
      IntentsUI Development</string>\n\t</dict>\n</dict>\n</plist>"
meta:
  bitrise.io:
    machine_type_id: g2.8core
